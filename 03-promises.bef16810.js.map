{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,MAAOC,SAASC,cAAc,wBAC9BC,KAAMF,SAASC,cAAc,uBAC7BE,OAAQH,SAASC,cAAc,yBAC/BG,UAAWJ,SAASC,cAAc,0BAGhCI,EAAQ,EACRC,EAAO,EACPC,EAAW,EACXC,EAAS,EACTC,EAAY,KAuChB,SAASC,EAAiBC,G,IAAEC,EAAFD,EAAEE,SAAUC,EAAZH,EAAYZ,MAC9BgB,EAAU,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANF,EAAM,MAE9DlB,EAAAqB,OAAOC,QAAQH,GACfI,QAAQC,IAAIL,E,CAGd,SAASM,EAAcV,G,IAAEW,EAAFX,EAAEE,SAAUU,EAAZZ,EAAYZ,MAC3BgB,EAAU,sBAAqCC,OAAfM,EAAS,QAAYN,OAANO,EAAM,MAE3D3B,EAAAqB,OAAOO,QAAQT,GACfI,QAAQC,IAAIL,E,CAhDdjB,EAAKC,MAAM0B,iBAAiB,SAmD5B,SAAsBC,GACpBrB,EAAQsB,OAAOD,EAAEE,cAAcC,M,IAnDjC/B,EAAKI,KAAKuB,iBAAiB,SA0D3B,SAAqBC,GACnBpB,EAAOqB,OAAOD,EAAEE,cAAcC,M,IA1DhC/B,EAAKK,OAAOsB,iBAAiB,SAqD7B,SAAuBC,GACrBlB,EAASmB,OAAOD,EAAEE,cAAcC,M,IArDlC/B,EAAKM,UAAUqB,iBAAiB,SAEhC,SAAqBC,GACnBA,EAAEI,iBAKFrB,EAAYsB,aAAY,WAY1B,IAAuBC,EAAUC,EACzBC,EAZA1B,EAASD,EACX4B,cAAc1B,KAUGuB,EANLzB,EAMe0B,EANL5B,EAOpB6B,EAAgBE,KAAKC,SAAW,GAE/B,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLP,EACFK,EAAQ,CAAE1B,SAAAmB,EAAUjC,MAAAkC,IAEpBO,EAAO,CAAE3B,SAAAmB,EAAUjC,MAAAkC,G,GAEpBA,E,KAhB4BS,KAAKhC,GAAkBiC,MAAMtB,GAC5Dd,GAAY,EACZF,GAASC,E,GACRA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  delay: document.querySelector('.form [name=\"delay\"]'),\n  step: document.querySelector('.form [name=\"step\"]'),\n  amount: document.querySelector('.form [name=\"amount\"]'),\n  submitBtn: document.querySelector('button[type=\"submit\"]'),\n};\n\nlet delay = 0;\nlet step = 0;\nlet position = 1;\nlet amount = 1;\nlet intevalId = null;\n\nrefs.delay.addEventListener('input', onDelayInput);\nrefs.step.addEventListener('input', onStepInput);\nrefs.amount.addEventListener('input', onAmountInput);\nrefs.submitBtn.addEventListener('click', onSubmitBtn);\n\nfunction onSubmitBtn(e) {\n  e.preventDefault();\n  startCreatePromise();\n}\n\nfunction startCreatePromise() {\n  intevalId = setInterval(() => {\n    if (amount < position) {\n      clearInterval(intevalId);\n      return;\n    }\n\n    createPromise(position, delay).then(fulfilledPromise).catch(rejectPromise);\n    position += 1;\n    delay += step;\n  }, step);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction fulfilledPromise({ position, delay }) {\n  const message = `✅ Fulfilled promise ${position} in ${delay}ms`;\n\n  Notify.success(message);\n  console.log(message);\n}\n\nfunction rejectPromise({ position, delay }) {\n  const message = `❌ Rejected promise ${position} in ${delay}ms`;\n\n  Notify.failure(message);\n  console.log(message);\n}\n\nfunction onDelayInput(e) {\n  delay = Number(e.currentTarget.value);\n}\n\nfunction onAmountInput(e) {\n  amount = Number(e.currentTarget.value);\n}\n\nfunction onStepInput(e) {\n  step = Number(e.currentTarget.value);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","delay","document","querySelector","step","amount","submitBtn","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$intevalId","$ce04d3a99e08e73b$var$fulfilledPromise","param","position2","position","delay2","message","concat","Notify","success","console","log","$ce04d3a99e08e73b$var$rejectPromise","position3","delay3","failure","addEventListener","e","Number","currentTarget","value","preventDefault","setInterval","position1","delay1","shouldResolve","clearInterval","Math","random","Promise","resolve","reject","setTimeout","then","catch"],"version":3,"file":"03-promises.bef16810.js.map"}
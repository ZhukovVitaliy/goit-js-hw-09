{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,wBAC9BC,KAAMF,SAASC,cAAc,uBAC7BE,OAAQH,SAASC,cAAc,yBAC/BG,UAAWJ,SAASC,cAAc,0BAGpC,IAAII,EAAQ,EACRC,EAAO,EACPC,EAAW,EACXC,EAAS,EACTC,EAAY,KAuChB,SAASC,GAAmBC,SAAAC,EAAUb,MAAAc,IACpC,MAAMC,EAAU,uBAAqBF,QAAiBC,MAEtDjB,EAAAmB,OAAOC,QAAQF,GACfG,QAAQC,IAAIJ,E,CAGd,SAASK,GAAgBR,SAAAS,EAAUrB,MAAAsB,IACjC,MAAMP,EAAU,sBAAoBM,QAAeC,MAEnDzB,EAAAmB,OAAOO,QAAQR,GACfG,QAAQC,IAAIJ,E,CAhDdhB,EAAKC,MAAMwB,iBAAiB,SAmD5B,SAAsBC,GACpBnB,EAAQoB,OAAOD,EAAEE,cAAcC,M,IAnDjC7B,EAAKI,KAAKqB,iBAAiB,SA0D3B,SAAqBC,GACnBlB,EAAOmB,OAAOD,EAAEE,cAAcC,M,IA1DhC7B,EAAKK,OAAOoB,iBAAiB,SAqD7B,SAAuBC,GACrBhB,EAASiB,OAAOD,EAAEE,cAAcC,M,IArDlC7B,EAAKM,UAAUmB,iBAAiB,SAEhC,SAAqBC,GACnBA,EAAEI,iBAKFnB,EAAYoB,aAAY,KAClBrB,EAASD,EACXuB,cAAcrB,IAUpB,SAAuBsB,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,CAAE1B,SAAAoB,EAAUhC,MAAAiC,IAEpBM,EAAO,CAAE3B,SAAAoB,EAAUhC,MAAAiC,GAAQ,GAE5BA,EAAM,G,CAhBTQ,CAAcjC,EAAUF,GAAOoC,KAAK/B,GAAkBgC,MAAMvB,GAC5DZ,GAAY,EACZF,GAASC,EAAI,GACZA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  delay: document.querySelector('.form [name=\"delay\"]'),\n  step: document.querySelector('.form [name=\"step\"]'),\n  amount: document.querySelector('.form [name=\"amount\"]'),\n  submitBtn: document.querySelector('button[type=\"submit\"]'),\n};\n\nlet delay = 0;\nlet step = 0;\nlet position = 1;\nlet amount = 1;\nlet intevalId = null;\n\nrefs.delay.addEventListener('input', onDelayInput);\nrefs.step.addEventListener('input', onStepInput);\nrefs.amount.addEventListener('input', onAmountInput);\nrefs.submitBtn.addEventListener('click', onSubmitBtn);\n\nfunction onSubmitBtn(e) {\n  e.preventDefault();\n  startCreatePromise();\n}\n\nfunction startCreatePromise() {\n  intevalId = setInterval(() => {\n    if (amount < position) {\n      clearInterval(intevalId);\n      return;\n    }\n\n    createPromise(position, delay).then(fulfilledPromise).catch(rejectPromise);\n    position += 1;\n    delay += step;\n  }, step);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction fulfilledPromise({ position, delay }) {\n  const message = `✅ Fulfilled promise ${position} in ${delay}ms`;\n\n  Notify.success(message);\n  console.log(message);\n}\n\nfunction rejectPromise({ position, delay }) {\n  const message = `❌ Rejected promise ${position} in ${delay}ms`;\n\n  Notify.failure(message);\n  console.log(message);\n}\n\nfunction onDelayInput(e) {\n  delay = Number(e.currentTarget.value);\n}\n\nfunction onAmountInput(e) {\n  amount = Number(e.currentTarget.value);\n}\n\nfunction onStepInput(e) {\n  step = Number(e.currentTarget.value);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","delay","document","querySelector","step","amount","submitBtn","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$position","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$intevalId","$47d4ff9957288465$var$fulfilledPromise","position","position2","delay2","message","Notify","success","console","log","$47d4ff9957288465$var$rejectPromise","position3","delay3","failure","addEventListener","e","Number","currentTarget","value","preventDefault","setInterval","clearInterval","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$createPromise","then","catch"],"version":3,"file":"03-promises.fc0c2898.js.map"}